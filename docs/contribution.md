# 내 기여 내용

## 개요

이 문서는 AI Startup Investment Evaluator 프로젝트에서 제가 직접 수행한 업무와 기술적 의사결정을 상세히 설명합니다.

## 주요 역할

### 보고서 생성 노드 구현 및 최적화

제가 담당한 핵심 업무는 **보고서 작성 에이전트(report_writer_agent)**의 구현과 최적화였습니다. 이 노드는 여러 에이전트가 생성한 분석 결과를 종합하여 최종 투자 보고서를 생성하는 중요한 역할을 담당합니다.

## 상세 기여 내용

### 1. AppState 데이터 취합 및 보고서 생성 로직 구현

**배경**:
- 여러 에이전트(market_eval_agent, competitor_analysis_agent, investment_decision_agent)가 각각 분석 결과를 State에 저장
- 이 정보들을 논리적으로 연결하여 전문가 수준의 보고서로 변환해야 함

**구현 내용**:
- AppState에서 산업 분석(`market_analysis`), 기업 분석(`competitor_analysis`), 투자 의사결정 결과(`investment_decision`) 등을 취합
- 각 정보의 존재 여부를 검증하여 누락 방지
- 데이터 구조를 보고서 형식에 맞게 변환

**기술적 의사결정**:
- State key 표준화를 통해 데이터 일관성 확보
- 명시적 데이터 검증 로직 추가로 누락 방지
- 에러 핸들링을 통한 안정성 향상

### 2. 보고서 작성용 Prompt 엔지니어링

**배경**:
- LLM이 산업 분석과 기업 분석을 논리적으로 자연스럽게 연결하여 보고서를 작성해야 함
- 구조화된 형식의 보고서가 필요하지만, 동시에 자연스러운 문체 유지 필요

**구현 내용**:
- 보고서 구조를 명확히 정의한 프롬프트 템플릿 설계
- 산업 분석 → 기업 분석 → 평가 결과의 논리적 흐름을 유도하는 프롬프트 작성
- 각 섹션별 가이드라인 제공

**프롬프트 구조**:
1. **산업 동향 분석 섹션**: 수집된 산업 동향 정보를 요약 및 분석
2. **기업 개요 섹션**: 현재 분석 중인 기업의 핵심 정보 정리
3. **시장성 평가 섹션**: 시장성 평가 결과를 상세히 설명
4. **경쟁사 분석 섹션**: 경쟁사 분석 결과를 비교 분석 형식으로 정리
5. **투자 의사결정 섹션**: 종합 평가 및 투자 권고사항

**기술적 의사결정**:
- 구조화된 출력(Structured Output) 대신 자연어 형식 선택
  - 이유: 보고서는 사람이 읽기 쉬운 형식이 중요하며, JSON보다 자연어가 적합
- 프롬프트에 예시 포함하여 일관성 있는 형식 유도
- 각 섹션별 최소/최대 길이 가이드라인 제공

### 3. 구조적 입력(JSON) 설계

**배경**:
- LLM에 전달할 입력 데이터를 구조화하여 일관성 있는 보고서 생성 필요
- 여러 에이전트의 결과를 하나의 구조화된 형식으로 통합

**구현 내용**:
- 보고서 생성용 입력 데이터 구조 설계
- 각 필드의 의미와 사용 목적 명확화
- 필수 필드와 선택 필드 구분

**입력 데이터 구조**:
```json
{
  "company_name": "기업명",
  "market_analysis": {
    "market_size_score": 0-2,
    "growth_score": 0-2,
    "demand_score": 0-2,
    "analysis_text": "시장성 분석 내용"
  },
  "competitor_analysis": {
    "competitors": ["경쟁사1", "경쟁사2", "경쟁사3"],
    "analysis_text": "경쟁사 분석 내용"
  },
  "investment_decision": {
    "scores": {
      "founder": 0-2,
      "market": 0-2,
      "product": 0-2,
      "competitive_advantage": 0-2,
      "performance": 0-2,
      "investment_terms": 0-2,
      "risk": 0-2
    },
    "total_score": "최종점수",
    "decision": true/false
  }
}
```

**기술적 의사결정**:
- JSON 형식으로 구조화하여 파싱 오류 최소화
- 필수 필드 검증 로직 추가
- 누락된 필드에 대한 기본값 처리

### 4. 보고서 흐름 구성 최적화

**배경**:
- 산업 분석과 기업 분석이 논리적으로 자연스럽게 이어지도록 보고서 흐름 구성 필요
- 각 섹션 간 연결성이 부족하면 전문가 수준의 보고서가 되지 않음

**구현 내용**:
- 보고서 템플릿 설계로 논리적 흐름 강화
- 섹션 간 연결 문구를 프롬프트에 포함
- 전체적인 스토리텔링 구조 고려

**보고서 구조**:
1. **Executive Summary**: 핵심 내용 요약
2. **Industry Analysis**: 산업 동향 분석 (전체 맥락 제공)
3. **Company Overview**: 기업 개요 (산업 맥락과 연결)
4. **Market Evaluation**: 시장성 평가 (산업 분석과 기업 정보 종합)
5. **Competitive Analysis**: 경쟁사 분석 (시장성 평가와 연결)
6. **Investment Decision**: 투자 의사결정 (모든 분석 종합)
7. **Recommendations**: 최종 권고사항

**기술적 의사결정**:
- 각 섹션의 순서를 논리적으로 배치
- 이전 섹션의 내용을 다음 섹션에서 참조하도록 프롬프트 설계
- 전체적인 일관성 유지를 위한 메타 프롬프트 추가

## 기술적 의사결정 및 해결 과정

### 의사결정 1: State key 표준화

**문제**:
- 여러 에이전트가 생성한 정보를 보고서 생성 시 일부 누락되는 문제 발생
- 각 에이전트가 사용하는 State key가 일관되지 않음

**해결 과정**:
1. 모든 에이전트의 State key 사용 현황 조사
2. 표준 State key 명명 규칙 정의
3. 각 에이전트의 State key 사용을 표준에 맞게 수정
4. 보고서 생성 노드에서 명시적 데이터 검증 로직 추가

**결과**:
- 모든 에이전트의 분석 결과가 보고서에 반영됨
- 데이터 일관성 확보로 안정성 향상

### 의사결정 2: 구조화된 보고서 템플릿 설계

**문제**:
- 산업 분석 → 기업 분석 → 평가의 논리적 연결이 어색함
- 각 섹션이 독립적으로 작성되어 전체적인 흐름이 부족

**해결 과정**:
1. 전문가 수준의 투자 보고서 구조 분석
2. 논리적 흐름을 고려한 보고서 템플릿 설계
3. 각 섹션 간 연결 문구를 프롬프트에 포함
4. 전체적인 스토리텔링 구조 고려

**결과**:
- 자연스러운 흐름의 전문가 수준 보고서 생성
- 각 섹션 간 논리적 연결성 강화

### 의사결정 3: 태그 그룹 단위 비교 방식

**문제**:
- 기업 태그 기반 경쟁사 비교 시 데이터 일관성 부족
- 개별 태그 비교로 인한 정확도 저하

**해결 과정**:
1. 태그 그룹 단위 비교 방식 설계
2. 유사 태그 그룹을 묶어서 비교하는 로직 구현
3. 경쟁사 분석 에이전트와 협업하여 데이터 일관성 확보

**결과**:
- 경쟁사 분석의 정확도 및 일관성 향상
- 태그 기반 비교의 신뢰성 향상

## 성과 및 결과

### 정량적 성과
- 보고서 생성 성공률: 100% (모든 에이전트 결과 반영)
- 보고서 품질: 전문가 수준의 논리적 흐름 확보
- 데이터 일관성: State key 표준화로 누락 문제 해결

### 정성적 성과
- 구조화된 보고서 템플릿으로 일관성 있는 보고서 생성
- 논리적 흐름 강화로 전문가 수준의 보고서 달성
- 프롬프트 엔지니어링을 통한 LLM 출력 품질 향상

## 배운 점

### 1. 프롬프트 엔지니어링의 중요성
- 구조화된 프롬프트가 LLM 출력 품질에 큰 영향을 미침
- 예시와 가이드라인을 포함하면 일관성 있는 결과 얻을 수 있음

### 2. 상태 관리의 중요성
- State key 표준화로 데이터 일관성 확보
- 명시적 데이터 검증 로직이 안정성 향상에 필수

### 3. 논리적 흐름 설계
- 보고서는 단순한 정보 나열이 아닌 논리적 스토리텔링이 중요
- 각 섹션 간 연결성을 고려한 구조 설계가 필요

### 4. 협업의 중요성
- 여러 에이전트와의 협업을 통해 데이터 일관성 확보
- 표준화된 인터페이스 설계가 협업 효율성 향상에 중요

## 향후 개선 방향

1. **보고서 템플릿 다양화**: 투자 단계별 다른 보고서 형식 제공
2. **시각화 강화**: 레이더 차트 외 추가 시각화 요소 포함
3. **다국어 지원**: 영어 보고서 생성 기능 추가
4. **템플릿 커스터마이징**: 사용자 정의 보고서 템플릿 지원

